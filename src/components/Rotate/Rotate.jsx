import React from "react";
import "./Rotate.css";

const Rotate = ({ value, imgSrc, setRotate }) => {
  const rotateLeft = () => {
    setRotate(value - 90);
  };

  const rotateRight = () => {
    setRotate(value + 90);
  };

  const handleChange = (event) => {
    const value = parseInt(event.target.value, 10);
    if (isNaN(value)) {
      setRotate(0);
    } else {
      setRotate(Math.min(180, Math.max(-180, Number(value))).toString());
    }
  };

  return (
    <div className="rotate-btns-container">
      <div className="clock-wise-container rotate-btns-wrapper">
        <div onClick={rotateRight}>
          <div className="rotate-btns-svg-wrapper">
            <svg
              width="34"
              height="34"
              viewBox="0 0 34 34"
              fill="none"
              xmlns="http://www.w3.org/2000/svg"
            >
              <path
                d="M17 2C20.9502 2.00334 24.7383 3.57127 27.5354 6.36071V3.49732C27.5354 3.21316 27.6482 2.94064 27.8492 2.73971C28.0501 2.53878 28.3226 2.42589 28.6068 2.42589C28.8909 2.42589 29.1635 2.53878 29.3644 2.73971C29.5653 2.94064 29.6782 3.21316 29.6782 3.49732V9.30125C29.6688 9.58243 29.5529 9.84953 29.354 10.0485C29.1551 10.2474 28.888 10.3633 28.6068 10.3727H22.8039C22.5198 10.3727 22.2472 10.2598 22.0463 10.0589C21.8454 9.85793 21.7325 9.58541 21.7325 9.30125C21.7325 9.01709 21.8454 8.74457 22.0463 8.54364C22.2472 8.3427 22.5198 8.22982 22.8039 8.22982H26.3701C24.3233 6.05464 21.5819 4.66151 18.6182 4.2905C15.6546 3.9195 12.6543 4.59384 10.1345 6.19735C7.61465 7.80085 5.73303 10.2331 4.81388 13.0749C3.89473 15.9167 3.99561 18.9902 5.09913 21.7656C6.20266 24.541 8.23972 26.8446 10.8593 28.2794C13.4789 29.7142 16.5169 30.1904 19.4498 29.6259C22.3827 29.0613 25.0269 27.4914 26.9266 25.1867C28.8264 22.882 29.8628 19.9868 29.8571 17C29.8571 16.7158 29.97 16.4433 30.171 16.2424C30.3719 16.0415 30.6444 15.9286 30.9286 15.9286C31.2127 15.9286 31.4853 16.0415 31.6862 16.2424C31.8871 16.4433 32 16.7158 32 17C32 19.9667 31.1203 22.8668 29.472 25.3336C27.8238 27.8003 25.4811 29.7229 22.7403 30.8582C19.9994 31.9935 16.9834 32.2906 14.0736 31.7118C11.1639 31.133 8.49119 29.7044 6.3934 27.6066C4.29561 25.5088 2.867 22.8361 2.28822 19.9264C1.70944 17.0166 2.00649 14.0006 3.14181 11.2597C4.27712 8.51886 6.19971 6.17618 8.66645 4.52796C11.1332 2.87973 14.0333 2 17 2Z"
                fill="#000"
              ></path>
            </svg>
          </div>
        </div>
        <div className="capitalize-rotate-text">
          <span>Clock-Wise</span>
        </div>
      </div>

      <div className="anti-clock-wise-container rotate-btns-wrapper">
        <div onClick={rotateLeft}>
          <div className="rotate-btns-svg-wrapper flipped">
            <svg
              width="34"
              height="34"
              viewBox="0 0 34 34"
              fill="none"
              xmlns="http://www.w3.org/2000/svg"
            >
              <path
                d="M17 2C20.9502 2.00334 24.7383 3.57127 27.5354 6.36071V3.49732C27.5354 3.21316 27.6482 2.94064 27.8492 2.73971C28.0501 2.53878 28.3226 2.42589 28.6068 2.42589C28.8909 2.42589 29.1635 2.53878 29.3644 2.73971C29.5653 2.94064 29.6782 3.21316 29.6782 3.49732V9.30125C29.6688 9.58243 29.5529 9.84953 29.354 10.0485C29.1551 10.2474 28.888 10.3633 28.6068 10.3727H22.8039C22.5198 10.3727 22.2472 10.2598 22.0463 10.0589C21.8454 9.85793 21.7325 9.58541 21.7325 9.30125C21.7325 9.01709 21.8454 8.74457 22.0463 8.54364C22.2472 8.3427 22.5198 8.22982 22.8039 8.22982H26.3701C24.3233 6.05464 21.5819 4.66151 18.6182 4.2905C15.6546 3.9195 12.6543 4.59384 10.1345 6.19735C7.61465 7.80085 5.73303 10.2331 4.81388 13.0749C3.89473 15.9167 3.99561 18.9902 5.09913 21.7656C6.20266 24.541 8.23972 26.8446 10.8593 28.2794C13.4789 29.7142 16.5169 30.1904 19.4498 29.6259C22.3827 29.0613 25.0269 27.4914 26.9266 25.1867C28.8264 22.882 29.8628 19.9868 29.8571 17C29.8571 16.7158 29.97 16.4433 30.171 16.2424C30.3719 16.0415 30.6444 15.9286 30.9286 15.9286C31.2127 15.9286 31.4853 16.0415 31.6862 16.2424C31.8871 16.4433 32 16.7158 32 17C32 19.9667 31.1203 22.8668 29.472 25.3336C27.8238 27.8003 25.4811 29.7229 22.7403 30.8582C19.9994 31.9935 16.9834 32.2906 14.0736 31.7118C11.1639 31.133 8.49119 29.7044 6.3934 27.6066C4.29561 25.5088 2.867 22.8361 2.28822 19.9264C1.70944 17.0166 2.00649 14.0006 3.14181 11.2597C4.27712 8.51886 6.19971 6.17618 8.66645 4.52796C11.1332 2.87973 14.0333 2 17 2Z"
                fill="#000"
              ></path>
            </svg>
          </div>
        </div>
        <div className="capitalize-rotate-text">
          <span>Counter Clock Wise</span>
        </div>
      </div>
      <div>
        <label htmlFor="rotate-input">Custom Angle: </label>
        <input
          id="rotate-input"
          type="number"
          value={value}
          disabled={!imgSrc}
          onChange={(e) => handleChange(e)}
        />
      </div>
    </div>
  );
};

export default Rotate;
